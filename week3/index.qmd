---
title: "Week 3: Time series decomposition"
---

```{r}
week <- 3
source(here::here("course_info.R"))
```

## What you will learn this week

* Transforming data to remove some sources of variation
* Decomposing a time series into trend-cycle, seasonal and remainder components
* Seasonal adjustment

## Pre-class activities

Read [Chapter 3 of the textbook](https://otexts.com/fpp3/decomposition.html) and watch all embedded videos

## Exercises (on your own or in tutorial)

Complete Exercises 6-11 from [Section 2.10 of the book](https://otexts.com/fpp3/graphics-exercises.html).

```{r}
#| output: asis
show_slides(week)
```

## Seminar activities

1. For the following series, find an appropriate Box-Cox transformation in order to stabilise the variance.

    * United States GDP from `global_economy`
    * Slaughter of Victorian “Bulls, bullocks and steers” in `aus_livestock`
    * Victorian Electricity Demand from `vic_elec`.
    * Gas production from `aus_production`

2. Why is a Box-Cox transformation unhelpful for the `canadian_gas` data?

3. Produce the following decomposition

    ```r
    canadian_gas |>
      STL(Volume ~ season(window=7) + trend(window=11)) |>
      autoplot()
    ```

4. What happens as you change the values of the two `window` arguments?

5. How does the seasonal shape change over time? [Hint: Try plotting the seasonal component using `gg_season`.]

6. Can you produce a plausible seasonally adjusted series? [Hint: `season_adjust` is one of the variables returned by `STL`.]

```{r}
#| output: asis
show_assignments(week)
```
